From 034b8a41cfc4e1b586ce2ab03aa91494b00078e3 Mon Sep 17 00:00:00 2001
Message-ID: <034b8a41cfc4e1b586ce2ab03aa91494b00078e3.1695854894.git.mjg@fedoraproject.org>
From: Julian Smith <julian.smith@artifex.com>
Date: Wed, 27 Sep 2023 14:05:52 +0100
Subject: [PATCH] setup.py: fixed debug/optimisation flags of PyMuPDF extension
 builds with system installs.

---
 setup.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/setup.py b/setup.py
index 4563dc1..c814341 100755
--- a/setup.py
+++ b/setup.py
@@ -1084,7 +1084,7 @@ def _extension_flags( mupdf_local, mupdf_build_dir, build_type):
     if mupdf_build_dir:
         mupdf_build_dir_flags = os.path.basename( mupdf_build_dir).split( '-')
     else:
-        mupdf_build_dir_flags = ''
+        mupdf_build_dir_flags = [build_type]
     optimise = 'release' in mupdf_build_dir_flags
     debug = 'debug' in mupdf_build_dir_flags
     r_extra = ''
-- 
2.42.0.599.g33dbca8bf9

